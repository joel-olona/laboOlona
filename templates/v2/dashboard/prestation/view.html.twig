{% extends 'base_v21.html.twig' %}

{% block title %}
	{{ prestation.titre }}
	| Olona Talents
{% endblock %}

{% block meta %}
	{{ parent() }}
{% endblock %}

{% block stylesheets %}
	{{ parent() }}
{% endblock %}

{% block sidebar %}

	{% if app.user.type is defined and app.user.type is same as(constant('App\\Entity\\User::ACCOUNT_CANDIDAT')) %}
		{% include "v2/dashboard/layout_candidat.html.twig" %}
	{% endif %}

	{% if app.user.type is defined and app.user.type is same as(constant('App\\Entity\\User::ACCOUNT_ENTREPRISE')) %}
		{% include "v2/dashboard/layout_entreprise.html.twig" %}
	{% endif %}

{% endblock %}

{% block body %}
	<section class="container my-5">
		<div class="card shadow">
			<div class="card-body p-3 p-sm-5">
				<div class="">
					<span class="position-absolute top-0 start-50 px-3 translate-middle badge bg-secondary-subtle border border-secondary-subtle text-secondary-emphasis rounded-pill">
						<i class="bi bi-person-workspace me-2"></i>
						Prestation | Réf:{{ generateprestationReference(prestation.id) }}
					</span>
				</div>
				<h1 class="card-title h3">{{ prestation.titre }}</h1>
				<hr>
				<p class="small fw-light">
					{{ satusPrestation(prestation)|raw }}
					<span class="small text-center mx-2">|</span>
					<span class="">Publié
						{{ prestation.createdAt|time_ago }}</span>
					<span class="small text-center mx-2">|</span>
          <span class="badge text-bg-primary rounded-pill mb-4"><i class="me-1 bi bi-tag"></i> {{ prestation.secteurs.nom }}</span>
					<span class="small text-center mx-2">|</span>
          <i class="bi bi-eye"></i> {{ prestation.prestationVues|length}} vues
          <span class="small text-center mx-2">|</span>
					<i class="mx-2 bi bi-person-workspace"></i> {{ prestation.modalitesPrestation }}</p>
				</p>
				<p>{{ prestation.description|raw }}</p>

				<div class="mt-3">
					<p class="">
						<i class="bi bi-gear mx-1 mx-sm-3 text-primary"></i>
						Spécialisations :
							{% for skill in prestation.competences %}
								<span class="badge rounded-pill text-bg-secondary">{{ skill.nom }}</span>
							{% endfor %}
					</p>
				</div>

				<div class="mb-3">
					<p class="">
						<i class="bi bi-currency-exchange mx-1 mx-sm-3 text-primary"></i>
						Tarif :
						<span class="text-strong">
							{% if prestation.tarifPrestation is defined and prestation.tarifPrestation is not null %}
								{{prestation.tarifPrestation}}
							{% else %}
                0 €
							{% endif %}
						</span>
					</p>
				</div>

				{% if prestation.motsCles is not empty %}
					<h2 class="h5">Mots clés</h2>
					<p class="row">
						{{prestation.motsCles|raw}}
					</p>
				{% endif %}

				{% if prestation.conditionsParticulieres is not empty %}
					<h2 class="h5">Conditions particulière</h2>
					<p class="row">
						{{prestation.conditionsParticulieres|raw}}
					</p>
				{% endif %}

				{% if prestation.portfolioLinks is not empty %}
					<h2 class="h5">Références</h2>
					<p class="row">
						{{prestation.portfolioLinks}}
					</p>
				{% endif %}

				{% if prestation.preferencesCommunication is not empty %}
					<h2 class="h5">Préférence communication</h2>
					<p class="row">
						{{prestation.preferencesCommunication}}
					</p>
				{% endif %}
				<hr>
				{# <a href="{{path('app_v2_edit_prestation', {'prestation': prestation.id})}}" class="btn btn-outline-warning  texte-uppercase  my-3 px-5">
					<i class="mx-2 bi bi-pencil"></i>Editer
				</a>
				<a href="{{path('app_v2_edit_prestation', {'prestation': prestation.id})}}#prestation_boost" class="btn btn-dark  texte-uppercase  my-3 px-5">
					<i class="mx-2 bi bi-rocket-takeoff"></i>Booster
				</a> #}
			</div>
		</div>
	</section>
{% endblock %}
